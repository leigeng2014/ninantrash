// Generated by CoffeeScript 1.8.0
(function() {
  var RstButton,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  RstButton = (function(_super) {
    __extends(RstButton, _super);

    function RstButton() {
      return RstButton.__super__.constructor.apply(this, arguments);
    }

    RstButton.prototype.name = 'rst';

    RstButton.prototype.icon = 'book';

    RstButton.prototype.title = 'rst';

    RstButton.prototype.decodeHTML = function(str) {
      var div;
      div = document.createElement('div');
      div.innerHTML = str;
      return div.innerText || div.textContent;
    };

    RstButton.prototype.doReplaceAll = function() {
      var value;
      value = this.editor.getValue();
      value = value.replace(/<p>/g, '').replace(/<\/p>/g, '\n');
      console.log(this.decodeHTML(value));
      return this.editor.setValue(this.decodeHTML(value));
    };

    RstButton.prototype.command = function() {
      this.doReplaceAll();
      return this.editor.selection.setRangeAtEndOf('p');
    };

    return RstButton;

  })(Simditor.Button);

  Simditor.Toolbar.addButton(RstButton);

}).call(this);
